{"openapi":"3.1.0","info":{"title":"Market View API V1","description":"API version 1 - Market View data and analytics platform","version":"1.0.0"},"paths":{"/companies/lookup/codes":{"post":{"tags":["Company Resolution"],"summary":"Get Company Codes By String V1","description":"Look up company mapping codes (v1 endpoint).\n\nSee v2 endpoint for full documentation.","operationId":"find_company_code","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompanyMappingMode"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{},"example":{"message":[{"rdc_orgid":34342,"rdc_ndaorgid":30293,"ws_cmpid":"C76073140","ws_coycode":24218,"name":"Taiwan Semiconductor Manufacturing Co Ltd","legal_name":"Tai Wan Ji Ti Dian Lu Zhi Zao Gu Fen You Xian Gong Si","short_name":"TSMC","description":"Taiwan Semiconductor Manufacturing Co Ltd is a....","country":"Taiwan"}]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/companies/lookup/parent-child-companies":{"post":{"tags":["Company Resolution"],"summary":"Get Parent Child Companies","description":"Look up parent-child company relationships and their mapping codes.\n\nThis endpoint retrieves organizational hierarchy information, showing relationships\nbetween parent companies and their subsidiaries.\n\n**Request Body:**\n- search_string: Company name or identifier\n- relationship_type: Type of relationship to search (parent, child, or both)\n- depth: How many levels of hierarchy to traverse\n\n**Returns:**\n- List of related companies with their mapping codes\n- Relationship information (parent/child)\n- Company details for each entity in the hierarchy","operationId":"find_parent_child_companies","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetParentChildMappingMode"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{},"example":{"message":[{"rdc_orgid":34342,"rdc_ndaorgid":30293,"rdc_parent_orgid":12345,"ws_cmpid":"C76073140","ws_coycode":24218,"name":"TSMC Subsidiary","legal_name":"TSMC Subsidiary Legal Name","short_name":"TSMC Sub","description":"A subsidiary of TSMC","country":"Taiwan","parent_name":"Taiwan Semiconductor Manufacturing Co Ltd","relationship_type":"subsidiary"}]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/companies/lookup/coy-code/{coy_code}":{"get":{"tags":["Company Resolution"],"summary":"Get Company Basic Info","description":"Get basic company information and key metrics by WorldScope company code.\n\nReturns a formatted text summary including:\n- Company name and description\n- Country and identifiers (SEDOL, CUSIP)\n- Current share price\n- Financial ratios (Gross Profit Margin, PE Ratio, etc.)\n- Historical performance metrics\n\n**Parameters:**\n- coy_code: WorldScope company code\n\n**Returns:**\n- Formatted markdown text with company information and metrics","operationId":"get_company_basic_info","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"coy_code","in":"path","required":true,"schema":{"type":"integer","title":"Coy Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{},"example":{"message":"**Company name**: MICROSOFT CORPORATION\n\n**Company Description**:\nMicrosoft Corporation is a technology company..."}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/resolve":{"get":{"tags":["Company Resolution"],"summary":"Resolve Company Identifier","description":"Resolve a company identifier to comprehensive company and instrument information.\n\nThis endpoint takes various types of company identifiers and returns:\n- Organization IDs across different systems (RDC, WorldScope, BG, RKD)\n- Company details (name, legal name, description, country)\n- All associated trading instruments with their identifiers\n- Exchange information for each instrument\n\nThe resolver supports:\n- Numeric IDs (RDC org ID, WorldScope coy code, etc.)\n- Security identifiers (SEDOL, ISIN, CUSIP)\n- Trading symbols (ticker, RIC)\n- Refinitiv identifiers (quotepermid, instrpermid)\n- Company names (fuzzy matching)\n\n**Parameters:**\n- identifier: The identifier value to resolve\n- identifier_type: Optional hint about the identifier type (auto-detected if omitted)\n\n**Returns:**\n- List of matching companies with full details and instruments\n- Empty list if no matches found","operationId":"resolve_company_identifier","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"identifier","in":"query","required":true,"schema":{"type":"string","description":"Company identifier value (rdc_org_id, worldscope_coy_code, SEDOL, ISIN, CUSIP, ticker, RIC, quotepermid, instrpermid, or company name)","title":"Identifier"},"description":"Company identifier value (rdc_org_id, worldscope_coy_code, SEDOL, ISIN, CUSIP, ticker, RIC, quotepermid, instrpermid, or company name)","examples":{"Microsoft":{"value":"2588173"}}},{"name":"identifier_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Type of identifier (rdc_org_id, worldscope_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid, company_name). If not provided, will attempt to auto-detect.","title":"Identifier Type"},"description":"Type of identifier (rdc_org_id, worldscope_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid, company_name). If not provided, will attempt to auto-detect.","examples":{"sedol":{"value":"sedol"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CompanyResolutionResult"},"title":"Response Resolve Company Identifier"},"example":[{"rdc_org_id":12345,"worldscope_coy_codes":[12345],"worldscope_ids":["C12345"],"bg_coy_codes":[12345],"rkd_coy_codes":[12345],"company_name":"Microsoft Corp","legal_name":"Microsoft Corporation","short_name":"Microsoft","description":"Technology company","country_code":"US","instruments":[{"instrument_name":"Microsoft Corp","sedol_code":"2588173","cusip_code":"594918104","ticker":"MSFT","ric":"MSFT.N","exchange_ticker":"MSFT.N","exchange_code":"NASDAQ","mic":"XNAS","quotepermid":55839686,"instrpermid":4295905573}]}]}}},"400":{"description":"Bad Request - Invalid parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found - Identifier not resolved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/strategies":{"get":{"tags":["Strategies"],"summary":"Get All Investment Strategies Portfolios","description":"List all Baillie Gifford strategies and the main portfolios that represent them. Returns a list of all strategies with their products with icon_code, name, and main representative portfolios. Each strategy includes details about the strategy type, asset class, and associated portfolios.","operationId":"get_strategies_and_portfolios","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/strategies/resolve":{"get":{"tags":["Strategies"],"summary":"Resolve Strategy Identifier","description":"Resolve a strategy identifier to get complete strategy information.\n\nThis endpoint allows testing of strategy identifier resolution used by the investment cases API.\nFor strategy_name searches that match multiple strategies, all matches are returned.\nFor strategy_code and icon_code searches, a single strategy match is returned (wrapped in a list).\n\n**Identifier Types:**\n- `strategy_code`: Internal strategy code (e.g., \"GLOBAL\", \"USEQUITY\")\n- `icon_code`: Portfolio icon code\n- `strategy_name`: Strategy name (uses fuzzy matching with LLM assistance)\n\n**Key Features:**\n- Returns multiple strategies for strategy_name when multiple matches exist\n- Supports fuzzy matching for strategy names\n- LLM-assisted matching when fuzzy matching fails\n- Returns comprehensive strategy metadata\n- Includes match confidence scoring\n- Optional cache control for testing and debugging","operationId":"resolve_strategy_identifier","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"identifier","in":"query","required":true,"schema":{"type":"string","description":"Strategy identifier value (strategy_code, icon_code, or strategy_name)","title":"Identifier"},"description":"Strategy identifier value (strategy_code, icon_code, or strategy_name)","examples":{"USEQUITY":{"value":"USEQUITY"}}},{"name":"identifier_type","in":"query","required":true,"schema":{"type":"string","pattern":"^(strategy_code|icon_code|strategy_name)$","description":"Type of strategy identifier being provided (lowercase)","title":"Identifier Type"},"description":"Type of strategy identifier being provided (lowercase)","examples":{"strategy_code":{"value":"strategy_code"}}},{"name":"use_cache","in":"query","required":false,"schema":{"type":"boolean","description":"Whether to use cached results if available. Defaults to True.","default":true,"title":"Use Cache"},"description":"Whether to use cached results if available. Defaults to True.","examples":{"true":{"value":true},"false":{"value":false}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StrategyResolutionResult"},"title":"Response Resolve Strategy Identifier"},"example":[{"strategy_code":"GLOBAL","strategy_name":"Global Equity Strategy","icon_code":"BGGE","strategy_asset_type":"Equity - Global","benchmark_name":"MSCI World Index"}]}}},"400":{"description":"Bad Request - Invalid parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found - Identifier not resolved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/portfolios/{icon_code}/holdings":{"get":{"tags":["Portfolios"],"summary":"Get Investment Portfolio Holdings By Icon Code","description":"Get holdings information for a specific portfolio at a given date as well as portfolio details.\n\nThis endpoint provides comprehensive portfolio information including:\n- Portfolio metadata: date, icon_code, fund_managers, client_contacts, benchmark\n- Complete instrument holdings with detailed metrics:\n  * Security identifiers: sedol, company_name\n  * Weight metrics: portfolio_weight, benchmark_weight, active_weight\n  * Classifications: country, sector, industry\n  * Market values: holding_market_value_usd\n\nThe date parameter can be any date - if not a month-end, it will automatically\nroll back to the prior month's end to retrieve holdings data.\n\n**Parameters:**\n- icon_code: Portfolio identifier code (e.g., \"DPERS\", \"BGGE\")\n- date_input: Optional target date (defaults to most recent month-end if omitted)\n\n**Returns:**\n- Complete portfolio holdings snapshot with metadata and instrument details","operationId":"get_portfolio_holdings_and_details","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"icon_code","in":"path","required":true,"schema":{"type":"string","description":"Portfolio icon code identifier","title":"Icon Code"},"description":"Portfolio icon code identifier","examples":{"LTGG":{"value":"CANGA"}}},{"name":"date_input","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Target date in YYYY-MM-DD format. If omitted or not a month-end, we'll roll back to the prior month's end.","title":"Date Input"},"description":"Target date in YYYY-MM-DD format. If omitted or not a month-end, we'll roll back to the prior month's end.","examples":{"empty":{},"date":{"value":"2024-12-31"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/portfolios/{icon_code}/holdings/{sedol_code}/history":{"get":{"tags":["Portfolios"],"summary":"Get Company Holding History","description":"Get detailed historical holding information for a specific company within a portfolio.\n\nThis endpoint provides time-series data showing how a portfolio's position in a\nspecific company has evolved over time. Perfect for analyzing portfolio changes,\nposition sizing trends, and investment conviction levels.\n\n**Key Features:**\n- Complete historical weight series for the company in the portfolio\n- Portfolio weight, benchmark weight, and active weight over time\n- Optional date range filtering for targeted analysis\n- Handles multiple SEDOLs per company automatically\n\n**Parameters:**\n- icon_code: Portfolio identifier code\n- sedol_code: Company SEDOL identifier\n- date_from: Optional start date for historical range\n- date_to: Optional end date for historical range\n\n**Returns:**\n- Company name and identification\n- Complete time series of portfolio holdings with weights\n- Historical position sizing and active weight evolution\n\n**Use Cases:**\n- Track portfolio position changes over time\n- Analyze conviction levels and position sizing decisions\n- Compare portfolio weights vs benchmark weights historically\n- Understand entry/exit timing and position adjustments","operationId":"get_company_holding_history","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"icon_code","in":"path","required":true,"schema":{"type":"string","description":"Portfolio icon code identifier","title":"Icon Code"},"description":"Portfolio icon code identifier","examples":{"LTGG":{"value":"CANGA"}}},{"name":"sedol_code","in":"path","required":true,"schema":{"type":"string","description":"Company SEDOL code","title":"Sedol Code"},"description":"Company SEDOL code","examples":{"Microsoft":{"value":"2588173"}}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Optional: start date filter in YYYY-MM-DD format","title":"Date From"},"description":"Optional: start date filter in YYYY-MM-DD format"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Optional: end date filter in YYYY-MM-DD format","title":"Date To"},"description":"Optional: end date filter in YYYY-MM-DD format"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/portfolios/universe":{"get":{"tags":["Portfolios"],"summary":"Get Portfolio Stock Universe","description":"Get all stocks (portfolio holdings + benchmark constituents) for a specific portfolio.\n\nReturns the combined universe of stocks from both the portfolio and its benchmark.\nIf no date is provided, uses the latest available valuation date (from CANGA portfolio).\n\n**Parameters:**\n- strategy_identifier: Strategy identifier (strategy code, icon code, or strategy name)\n- strategy_identifier_type: Type of identifier (strategy_code, icon_code, or strategy_name)\n- date: Optional valuation date (YYYY-MM-DD format). Defaults to latest available.\n\n**Filters Applied:**\n- Excludes cash positions\n- Excludes instruments without valid SEDOL\n- Excludes sectors: Unclassified, Bonds, Cash, Swaps, Sovereign, Futures, Utility\n- Only includes instruments with valid sector classification\n\n**Returns:**\n- SEDOL: Stock identifier\n- Company name\n- Sector and industry classifications\n- Region and country\n\n**Use Cases:**\n- Get the full opportunity set for a portfolio (holdings + benchmark)\n- Compare portfolio holdings against benchmark universe\n- Identify potential additions from benchmark\n- Analysis of portfolio's investable universe","operationId":"get_portfolio_stock_universe","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"strategy_identifier","in":"query","required":true,"schema":{"type":"string","description":"Strategy identifier, i.e. a strategy code like 'INTALPHA' or an icon code like 'CANGA' or a strategy name like 'US Equity'","title":"Strategy Identifier"},"description":"Strategy identifier, i.e. a strategy code like 'INTALPHA' or an icon code like 'CANGA' or a strategy name like 'US Equity'","examples":{"INTALPHA strategy_code":{"value":"INTALPHA"}}},{"name":"strategy_identifier_type","in":"query","required":true,"schema":{"type":"string","pattern":"^(strategy_code|icon_code|strategy_name)$","description":"Strategy identifier type must be one of: strategy_code, icon_code, or strategy_name","title":"Strategy Identifier Type"},"description":"Strategy identifier type must be one of: strategy_code, icon_code, or strategy_name","examples":{"strategy_code":{"value":"strategy_code"}}},{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Valuation date in YYYY-MM-DD format. Defaults to latest available date if not provided.","title":"Date"},"description":"Valuation date in YYYY-MM-DD format. Defaults to latest available date if not provided.","examples":{"empty":{},"specific date":{"value":"2024-10-31"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stocks/{sedol}/price-history":{"get":{"tags":["Stocks"],"summary":"Get Stock Price History","description":"Get historical stock price data for a company by SEDOL code.\n\nReturns adjusted closing prices for the specified date range:\n- Stock identification: SEDOL, ticker, company name\n- Price history: date and adjusted closing price for each trading day\n- Currency: the currency in which prices are quoted\n\nThe endpoint returns prices adjusted for corporate actions (splits, dividends, etc.)\nto provide accurate historical performance data.\n\n**Parameters:**\n- **sedol**: SEDOL identifier for the stock (required)\n- **from**: Start date in YYYY-MM-DD format (optional, defaults to 25 years ago)\n- **to**: End date in YYYY-MM-DD format (optional, defaults to today)\n\n**Example:**\n```\nGET /api/v1/stock/2588173/price-history?from=2024-01-01&to=2024-12-31\n```","operationId":"get_stock_price_history","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"sedol","in":"path","required":true,"schema":{"type":"string","description":"SEDOL identifier for the stock","title":"Sedol"},"description":"SEDOL identifier for the stock","examples":{"Microsoft":{"value":"2588173"}}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date for price history (YYYY-MM-DD). Defaults to 25 years ago if not provided.","title":"From"},"description":"Start date for price history (YYYY-MM-DD). Defaults to 25 years ago if not provided.","examples":{"empty":{},"historic date":{"value":"2024-01-01"}}},{"name":"to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date for price history (YYYY-MM-DD). Defaults to current date if not provided.","title":"To"},"description":"End date for price history (YYYY-MM-DD). Defaults to current date if not provided.","examples":{"empty":{},"date prior to today":{"value":"2024-12-31"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{},"example":{"message":{"sedol":"2588173","ticker":"@TSMC","name":"TAIWAN SEMICONDUCTOR-SP ADR","currency":"USD","start_date":"2020-10-08","end_date":"2025-10-08","price_history":[{"date":"2020-10-09","price":84.52},{"date":"2020-10-12","price":85.23}]}}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Stock not found","content":{"application/json":{"example":{"detail":"No stock found with SEDOL: 2588173"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/stocks/{sedol_code}/bg_portfolios":{"get":{"tags":["Stocks"],"summary":"Get Bg Portfolio Holdings For A Company","description":"Get Baillie Gifford portfolio holdings information for a specific company.\n\nThis endpoint shows which Baillie Gifford representative portfolios currently hold\nthe specified company, along with portfolio weights and position details. Only\nincludes main strategy portfolios (representative portfolios), not all portfolios.\n\n**Key Information Returned:**\n- Company name and identification\n- Products grouped by broad_product_code/description\n- Current portfolio holdings with latest weights\n- SEDOL at portfolio level (handles multiple SEDOLs per company)\n- Portfolio metadata: icon_code, portfolio name, strategy information\n- Position metrics: portfolio weight, benchmark weight, active weight\n\n**Parameters:**\n- sedol_code: Company SEDOL identifier (any SEDOL for the company works)\n\n**Returns:**\n- List of Baillie Gifford representative portfolios holding the company\n- Current position sizes and weights for each portfolio\n- Product groupings and strategy classifications\n\n**Use Cases:**\n- Find which BG portfolios own a specific company\n- Analyze BG's overall exposure to a company across strategies\n- Understand position sizing across different portfolio mandates\n- Track representative portfolio holdings for research and analysis\n\n**Note:**\nTakes in any SEDOL for the company, but returns holdings data that may\nreference different SEDOLs if the company has multiple traded instruments.\nAutomatically filters to main strategy portfolios only.","operationId":"get_bg_holding_company_info","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"sedol_code","in":"path","required":true,"schema":{"type":"string","description":"Company SEDOL code","title":"Sedol Code"},"description":"Company SEDOL code","examples":{"Microsoft":{"value":"2588173"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/stocks/universe":{"get":{"tags":["Stocks"],"summary":"Get Stock Universe","description":"Get all unique stocks across all portfolios.\n\nReturns a comprehensive list of all stocks that appear in the risk analytics database,\nfiltered to exclude cash, unlisted securities, and non-equity instruments.\nIf no date is provided, uses the latest available valuation date (from CANGA portfolio).\n\n**Parameters:**\n- date: Optional valuation date (YYYY-MM-DD format). Defaults to latest available.\n\n**Filters Applied:**\n- Excludes cash positions\n- Excludes unlisted securities\n- Excludes instruments without valid SEDOL\n- Excludes sectors: Unclassified, Bonds, Cash, Swaps, Sovereign, Futures, Utility\n- Only includes instruments with valid sector classification\n\n**Returns:**\n- SEDOL: Stock identifier\n- Company name\n- Sector and industry classifications\n- Region and country\n\n**Use Cases:**\n- Get the full investable universe across all portfolios\n- Filter stocks for analysis or screening\n- Build custom stock lists for research","operationId":"get_stock_universe","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Valuation date in YYYY-MM-DD format. Defaults to latest available date if not provided.","title":"Date"},"description":"Valuation date in YYYY-MM-DD format. Defaults to latest available date if not provided.","examples":{"empty":{},"specific date":{"value":"2024-10-31"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/companies/trades":{"get":{"tags":["Companies"],"summary":"Get Company Trades By Identifier","description":"Retrieve historical trading data for a company using flexible identifiers.","operationId":"get_company_trades_by_identifier","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$"},{"type":"null"}],"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","examples":{"example":{"value":"CANGA"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(strategy_code|icon_code)$"},{"type":"null"}],"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","examples":{"example":{"value":"icon_code"}}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date for trade data (YYYY-MM-DD format)","title":"Start Date"},"description":"Start date for trade data (YYYY-MM-DD format)","examples":{"empty":{},"date":{"value":"2020-01-01"}}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date for trade data (YYYY-MM-DD format)","title":"End Date"},"description":"End date for trade data (YYYY-MM-DD format)","examples":{"empty":{},"date":{"value":"2025-12-31"}}},{"name":"direction","in":"query","required":false,"schema":{"type":"string","description":"Filter by trade direction: PURCHASE, SALE, or ALL","enum":["PURCHASE","SALE","ALL"],"default":"ALL","title":"Direction"},"description":"Filter by trade direction: PURCHASE, SALE, or ALL"},{"name":"transaction_type","in":"query","required":false,"schema":{"type":"string","description":"Filter by transaction type: New Buy, Addition, Partial Sale, Complete Sale, or ALL","enum":["New Buy","Addition","Partial Sale","Complete Sale","ALL"],"default":"ALL","title":"Transaction Type"},"description":"Filter by transaction type: New Buy, Addition, Partial Sale, Complete Sale, or ALL"},{"name":"reason_filter","in":"query","required":false,"schema":{"type":"string","description":"Filter by trade reason: InvestmentDecision, Rebalancing, FlowOnly, TakeOnLostFund, Merged, or ALL","enum":["InvestmentDecision","Rebalancing","FlowOnly","TakeOnLostFund","Merged","ALL"],"default":"InvestmentDecision","title":"Reason Filter"},"description":"Filter by trade reason: InvestmentDecision, Rebalancing, FlowOnly, TakeOnLostFund, Merged, or ALL"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":5000,"minimum":1,"description":"Maximum number of trade records to return (1-5000)","default":1000,"title":"Limit"},"description":"Maximum number of trade records to return (1-5000)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip for pagination","default":0,"title":"Offset"},"description":"Number of records to skip for pagination"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradeListResponseModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/{sedol_code}/fundamentals":{"get":{"tags":["Companies"],"summary":"Get Stock Fundamental By Sedol Code","description":"Get comprehensive investment fundamental data for a company by SEDOL code.\n\nThis endpoint provides detailed historical fundamental data and financial metrics:\n- Company identification: market cap, sector classification, current price\n- Financial metrics: sales, income, profit margins, growth rates\n- Valuation ratios: PE ratio, Price-to-Sales, ROE, ROIC\n- Historical time series data for trend analysis and performance evaluation\n\nData is provided at the specified frequency (monthly, quarterly, or yearly)\nover the requested lookback period for comprehensive financial analysis and\ninvestment decision-making.\n\n**Parameters:**\n- sedol_code: SEDOL identifier for the company\n- frequency: Data frequency (1=Monthly, 2=Quarterly, 3=Yearly)\n- lookback_periods: Number of years of historical data to return\n\n**Returns:**\n- Comprehensive fundamental data pack with financial metrics and ratios","operationId":"get_stock_fundamentals","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"sedol_code","in":"path","required":true,"schema":{"type":"string","description":"SEDOL code","title":"Sedol Code"},"description":"SEDOL code","examples":{"Microsoft":{"value":"2588173"}}},{"name":"frequency","in":"query","required":false,"schema":{"type":"integer","description":"1 = Monthly, 2 = Quarterly, 3 = Yearly","default":2,"title":"Frequency"},"description":"1 = Monthly, 2 = Quarterly, 3 = Yearly"},{"name":"lookback_periods","in":"query","required":false,"schema":{"type":"integer","description":"How many years back to fetch","default":5,"title":"Lookback Periods"},"description":"How many years back to fetch"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/documents":{"get":{"tags":["Company Documents"],"summary":"Find Company Documents","operationId":"search_company_documents","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$"},{"type":"null"}],"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code)"},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(strategy_code|icon_code)$"},{"type":"null"}],"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(internal|external)$"},{"type":"null"}],"description":"Document category","title":"Category"},"description":"Document category","examples":{"any":{"value":""},"internal":{"value":"internal"},"external":{"value":"external"}}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(internal_investment_reports|forward_looking_hypothesis|custom_events|ai_generated_analysis|filing_documents|broker_research|external_investor_calls)$"},{"type":"null"}],"description":"Document type (values depend on category)","title":"Type"},"description":"Document type (values depend on category)","examples":{"example":{}}},{"name":"subtype","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Subtype within type","title":"Subtype"},"description":"Subtype within type"},{"name":"variant","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Variant within subtype","title":"Variant"},"description":"Variant within subtype"},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name (case-insensitive substring)","title":"Author"},"description":"Filter by author name (case-insensitive substring)"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date (YYYY-MM-DD)","title":"Start Date"},"description":"Start date (YYYY-MM-DD)","examples":{"example":{"value":"2025-01-01"}}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date (YYYY-MM-DD)","title":"End Date"},"description":"End date (YYYY-MM-DD)","examples":{"example":{"value":"2025-12-31"}}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyDocumentsSearchResponse"},"example":{"message":{"documents":[{"global_doc_id":"RL-S438153","date":"2024-11-27","title":"Microsoft Shareholder Proposals - 6 & 7 (AI & Oil & Gas; Operations in areas of Human Rights Sensitivity)","author":"Apricot Wilson","snippet":"The document discusses Microsoftâ€™s ...","rdc_org_id":26589,"company_name":"Microsoft Corp","category":"internal","type":"internal_investment_reports"},{"global_doc_id":"ER-112690173075","date":"2024-10-31","title":"1Q25: Solid Quarter and Guidance, But OpenAI Losses and Increased CAPX Hitting FCF and EPS","author":"Timothy K. Horan","rdc_org_id":26589,"company_name":"Microsoft Corp","category":"external","type":"broker_research"},{"global_doc_id":"FI-81006320","date":"2024-10-30","title":"Microsoft Corp 10-Q","rdc_org_id":26589,"company_name":"Microsoft Corp","category":"external","type":"filing_documents","subtype":"interim_report","variant":"10-Q","filing_statement_date":"2024-09-30"},{"global_doc_id":"SE-16142616","date":"2024-10-30","title":"Edited Transcript of MSFT.OQ earnings conference call or presentation 30-Oct-24 9:30pm GMT","rdc_org_id":26589,"company_name":"Microsoft Corp","category":"external","type":"external_investor_calls","subtype":"earnings_calls","variant":"Earning Conference Call/Presentation"}]}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Company Documents"],"summary":"Create a new document","description":"Create a new document.\n\nSupported document types:\n- **Company Events** (category=internal, type=custom_events): Custom timeline events for a company\n- **AI-Generated Analysis** (category=internal, type=ai_generated_analysis): AI-generated document analyses\n\n**Standard Fields:**\n- `category`, `type`, `subtype`: Document classification\n- `date`, `title`, `content`, `snippet`: Core document fields\n- `author`: Person or model name\n- `sedol`/`rdc_org_id`: Company identifier\n- `strategy_code`: Strategy identifier (formerly icon_code)\n\n**Type-Specific Metadata:**\n- **Events**: `is_public` (bool) - Whether event is publicly visible\n- **AI Docs**: `source_doc_id` (str), `processing_time_seconds` (float), `generation_process_version` (str)\n\n**Global Documents**: Omit `strategy_code` and `rdc_org_id`/`sedol` to create a global document not tied to a company/strategy.\n\nOther document types (filings, research, etc.) are read-only and cannot be created through this API.","operationId":"create_document","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreateRequest"},"examples":{"company_event":{"summary":"Company Event","description":"Create a custom timeline event for a company","value":{"category":"internal","type":"custom_events","subtype":"event","date":"2024-01-15","title":"Q4 Earnings Beat Expectations","snippet":"Strong revenue growth driven by AI chip demand","content":"Detailed analysis of Q4 earnings results showing 25% YoY growth...","author":"John Analyst","sedol":"2588173","strategy_code":"TECH_GROWTH","metadata":{"is_public":false}}},"company_event_global":{"summary":"Global Company Event (no strategy)","description":"Create a global event not tied to a specific strategy","value":{"category":"internal","type":"custom_events","subtype":"event","date":"2024-02-20","title":"CEO Departure Announced","snippet":"Board announces CEO transition plan","content":"The board announced today that the CEO will step down in Q3...","author":"Corporate Communications","sedol":"2588173","metadata":{"is_public":true}}},"ai_filing_summary":{"summary":"AI-Generated Filing Summary","description":"Create an AI-generated longform summary of a filing","value":{"category":"internal","type":"ai_generated_analysis","subtype":"filing_longform_summary","date":"2024-01-10","title":"10-K Annual Report analysis","content":"# Executive Summary\n\nRevenue increased 25% YoY to $15.2B...","snippet":"AI-generated comprehensive analysis of 10-K filing","author":"claude-sonnet-4","sedol":"2588173","strategy_code":"TECH_GROWTH","metadata":{"source_doc_id":"FI-77378344","processing_time_seconds":18.5,"generation_process_version":"v1.2"}}},"ai_earnings_commentary":{"summary":"AI-Generated Earnings Call Commentary","description":"Create AI-generated commentary on an earnings call","value":{"category":"internal","type":"ai_generated_analysis","subtype":"earnings_call_commentary","date":"2024-01-30","title":"Q4 2024 Earnings Call Key Takeaways","content":"## Key Insights\n\n- Management remains bullish on AI demand\n- Raising guidance for 2025...","snippet":"AI commentary on Q4 earnings call","author":"gpt-4o","sedol":"2588173","strategy_code":"TECH_GROWTH","metadata":{"source_doc_id":"SE-16142616","processing_time_seconds":12.3,"generation_process_version":"v1.0"}}}}}}},"responses":{"201":{"description":"Document created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreateResponse"},"examples":{"company_event":{"summary":"Company Event","value":{"global_doc_id":"EV-123","message":"Document created successfully"}},"ai_analysis":{"summary":"AI-Generated Analysis","value":{"global_doc_id":"AI-456","message":"Document created successfully"}}}}}},"400":{"description":"Invalid request or unsupported document type"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/companies/documents/{global_doc_id}":{"get":{"tags":["Company Documents"],"summary":"Get Company Document","operationId":"get_company_document","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"global_doc_id","in":"path","required":true,"schema":{"type":"string","description":"Document identifier from list company documents","title":"Global Doc Id"},"description":"Document identifier from list company documents","examples":{"filing doc":{"value":"FI-77378344"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Company Documents"],"summary":"Update an existing document","description":"Update an existing document.\n\nSupported document types:\n- **Company Events** (EV- prefix)\n- **AI-Generated Analysis** (AI- prefix)\n\n**Updatable Fields:**\n- `date`, `title`, `content`, `snippet`, `author`\n- `strategy_code`\n- `metadata` (type-specific fields)\n\n**Note:** `category`, `type`, `subtype`, and company identifiers cannot be changed after creation.\n\nOther document types (filings, research, etc.) are read-only and cannot be updated through this API.","operationId":"update_document","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"global_doc_id","in":"path","required":true,"schema":{"type":"string","description":"Global document ID (e.g., EV-123 or AI-456)","title":"Global Doc Id"},"description":"Global document ID (e.g., EV-123 or AI-456)","examples":{"company_event":{"value":"EV-123"},"ai_analysis":{"value":"AI-456"}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUpdateRequest"},"examples":{"company_event":{"summary":"Update Company Event","description":"Update event details","value":{"date":"2024-01-15","title":"Q4 Earnings Beat Expectations - Updated","snippet":"Revised analysis with final numbers","content":"Updated detailed analysis with final audited numbers...","author":"John Analyst","strategy_code":"TECH_GROWTH","metadata":{"is_public":true}}},"ai_analysis_regenerate":{"summary":"Regenerate AI Analysis","description":"Regenerate analysis with updated model","value":{"date":"2024-01-10","title":"Analysis 10-K Annual Report (v2)","content":"# Executive Summary (Regenerated)\n\nRevenue increased 25% YoY...","snippet":"Updated AI analysis with improved insights","author":"claude-sonnet-4.5","strategy_code":"TECH_GROWTH","metadata":{"processing_time_seconds":22.1,"generation_process_version":"v2.0"}}}}}}},"responses":{"200":{"description":"Document updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUpdateResponse"}}}},"400":{"description":"Invalid request or unsupported document type"},"404":{"description":"Document not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Company Documents"],"summary":"Delete a document","description":"Delete a document.\n\nSupported document types:\n- **Company Events** (EV- prefix)\n- **AI-Generated Analysis** (AI- prefix)\n\nOther document types (filings, research, etc.) are read-only and cannot be deleted through this API.","operationId":"delete_document","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"global_doc_id","in":"path","required":true,"schema":{"type":"string","description":"Global document ID (e.g., EV-123 or AI-456)","title":"Global Doc Id"},"description":"Global document ID (e.g., EV-123 or AI-456)","examples":{"company_event":{"value":"EV-123"},"ai_analysis":{"value":"AI-456"}}}],"responses":{"200":{"description":"Document deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentDeleteResponse"}}}},"400":{"description":"Unsupported document type for deletion"},"404":{"description":"Document not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/documents/{global_doc_id}/download":{"get":{"tags":["Company Documents"],"summary":"Download raw document","description":"Download raw document as binary content (PDF or TXT).\n\nCurrently supported document types:\n- **Filings (FI-)**: Regulatory filings from Azure Blob Storage with Refinitiv API fallback (PDF)\n- **Broker Research (ER-)**: External research from Azure Blob Storage with Refinitiv API fallback (PDF)\n- **Research Library (RL-)**: Internal research documents from Snowflake (TXT)\n- **Street Events (SE-)**: Earnings calls and investor transcripts from Snowflake (TXT)\n- **Investment Cases (IC-)**: Forward Looking Hypothesis and investment notes from Snowflake (TXT)\n\nFor filings and broker research, first attempts to download from Azure Blob Storage.\nIf the document is not found in blob storage, falls back to downloading from Refinitiv API.\n\nFor research library, street events, and investment cases, queries from Snowflake and returns as formatted text file.\nResearch Library includes source URL in the `X-Source-URL` header.\n\nUnsupported types will return 501 Not Implemented.\n\nThe endpoint returns the document bytes directly with appropriate headers:\n- `Content-Type`: application/pdf or text/plain; charset=utf-8\n- `Content-Disposition`: Suggested filename for download\n- `X-Source-URL`: Optional URL to original source (Research Library only)","operationId":"download_company_document","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"global_doc_id","in":"path","required":true,"schema":{"type":"string","description":"Global document ID to download","title":"Global Doc Id"},"description":"Global document ID to download","examples":{"filing":{"value":"FI-52865415","summary":"Filing document (PDF)"},"broker_research":{"value":"ER-112696840420","summary":"Broker research document (PDF)"},"research_library":{"value":"RL-R443079","summary":"Research library document (TXT)"},"street_events":{"value":"SE-16519519","summary":"Street events transcript (TXT)"},"investment_case":{"value":"IC-ALLCAP|6144690|2025-01-01","summary":"Forward Looking Hypothesis (TXT)"}}}],"responses":{"200":{"description":"Document content (PDF or TXT)","content":{"application/json":{"schema":{}},"application/pdf":{},"text/plain":{}},"headers":{"Content-Disposition":{"description":"Suggested filename for download","schema":{"type":"string"}},"X-Source-URL":{"description":"Optional URL to original source (Research Library documents)","schema":{"type":"string"}}}},"400":{"description":"Invalid document ID format"},"404":{"description":"Document not found"},"501":{"description":"Document download not supported for this document type"},"502":{"description":"Failed to download from external service"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/documents/authors":{"get":{"tags":["Company Documents"],"summary":"Find Authors","description":"Find authors by name or query string across different research sources.","operationId":"find_authors","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"author_source","in":"query","required":true,"schema":{"type":"string","description":"Author source: research_library | external_research | investment_cases","title":"Author Source"},"description":"Author source: research_library | external_research | investment_cases"},{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"User's author name or query","title":"Query"},"description":"User's author name or query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response Find Authors"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/flh":{"get":{"tags":["Company Forward Looking Hypotheses"],"summary":"Get FLH","description":"Get Forward Looking Hypothesis with text history, indicator versions, and derived overall monitoring status. Can be retrieved by strategy_code or watchlist_name (use strategy_identifier_type='watchlist_name').","operationId":"get_flh","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"type":"string","description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$","description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"type":"string","description":"Strategy identifier value (e.g. a strategy_code or icon_code or watchlist)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code or watchlist)","examples":{"example":{"value":"USEQUITY"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(strategy_code|icon_code|watchlist_name)$","description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code\n- `watchlist_name`: name of the users watchlist (e.g. 'watchlist' for users default watchlist)","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code\n- `watchlist_name`: name of the users watchlist (e.g. 'watchlist' for users default watchlist)","examples":{"example":{"value":"strategy_code"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/FLHResponse"},{"type":"null"}],"title":"Response Get Flh"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Company Forward Looking Hypotheses"],"summary":"Create FLH","description":"Create new Forward Looking Hypothesis with initial text and indicators. Can be created for a strategy or a watchlist.","operationId":"create_flh","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"type":"string","description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$","description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"type":"string","description":"Strategy identifier value (e.g. a strategy_code or icon_code or watchlist)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code or watchlist)","examples":{"example":{"value":"USEQUITY"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(strategy_code|icon_code|watchlist_name)$","description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code\n- `watchlist_name`: name of the users watchlist (e.g. 'watchlist' for users default watchlist)","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code\n- `watchlist_name`: name of the users watchlist (e.g. 'watchlist' for users default watchlist)","examples":{"example":{"value":"strategy_code"}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHCreateRequest"},"examples":{"Complete FLH with Multiple Indicators":{"summary":"Comprehensive FLH with key and supporting indicators","value":{"text":"Microsoft will sustain 30%+ annual cloud revenue growth through 2027, driven by Azure market share gains and AI integration across the product portfolio","valid_from":"2025-01-15","indicators":[{"text":"Azure revenue growth exceeding 35% YoY, with increased market share vs AWS","include_in_overall_status":true},{"text":"Azure OpenAI Service adoption driving >$5B incremental revenue by 2026","include_in_overall_status":true},{"text":"Cloud gross margins expanding to 70%+ as scale benefits materialize","include_in_overall_status":true},{"text":"Microsoft 365 Copilot reaching 50M+ paid subscribers by 2026","include_in_overall_status":false},{"text":"GitHub Copilot revenue exceeding $1B annually","include_in_overall_status":false}]}},"Basic FLH with Single Indicator":{"summary":"Simple FLH with one key indicator","value":{"text":"Taiwan Semiconductor will maintain technology leadership through advanced node transitions","valid_from":"2025-02-01","indicators":[{"text":"3nm process reaching 30%+ of revenue by 2026","include_in_overall_status":true}]}},"FLH without Indicators":{"summary":"FLH with just text (indicators can be added later)","value":{"text":"Company will successfully transition to electric vehicle production","valid_from":"2025-03-01","indicators":[]}}}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Company Forward Looking Hypotheses"],"summary":"Update FLH","description":"Update FLH text and/or indicators. Creates new versions when text changes.","operationId":"update_flh","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"type":"string","description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$","description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"type":"string","description":"Strategy identifier value (e.g. a strategy_code or icon_code)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","examples":{"example":{"value":"USEQUITY"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(strategy_code|icon_code)$","description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","examples":{"example":{"value":"strategy_code"}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHUpdateRequest"},"examples":{"Update Text Only":{"summary":"Update FLH description text with new valid_from date","value":{"text_update":{"text":"Microsoft will sustain 35%+ annual cloud revenue growth through 2027 (revised upward from 30%), driven by stronger than expected Azure OpenAI Service adoption","valid_from":"2025-02-01"},"indicators":[]}},"Update Indicator Text":{"summary":"Update indicator text creating new version","value":{"indicators":[{"flh_indicator_id":123,"version_update":{"text":"Azure revenue growth exceeding 40% YoY (revised up from 35%), with increased market share vs AWS and GCP","valid_from":"2025-02-01","include_in_overall_status":true}}]}},"Update Text and Delete Indicator":{"summary":"Update FLH text and delete an indicator by omitting it","description":"Indicator 124 is deleted by omitting it from the indicators list. Only indicator 123 is kept.","value":{"text_update":{"text":"Microsoft will sustain 35%+ annual cloud revenue growth through 2027, with AI services becoming primary growth driver","valid_from":"2025-03-01"},"indicators":[{"flh_indicator_id":123,"version_update":{"text":"Azure OpenAI Service adoption driving >$10B incremental revenue by 2026 (doubled estimate)","valid_from":"2025-03-01","include_in_overall_status":true}}]}},"Add New Indicator":{"summary":"Add new indicator to existing FLH","value":{"indicators":[{"version_update":{"text":"Azure Data & AI services reaching $20B annual run rate by 2027","valid_from":"2025-03-01","include_in_overall_status":true}}]}}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Company Forward Looking Hypotheses"],"summary":"Delete FLH","description":"Delete all Forward Looking Hypothesis data for a company/strategy combination","operationId":"delete_flh","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"type":"string","description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$","description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"type":"string","description":"Strategy identifier value (e.g. a strategy_code or icon_code)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","examples":{"example":{"value":"USEQUITY"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(strategy_code|icon_code)$","description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","examples":{"example":{"value":"strategy_code"}}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/flh/indicators/{indicator_id}/monitoring":{"post":{"tags":["Company Forward Looking Hypotheses"],"summary":"Update indicator monitoring status","description":"Add new monitoring status history entry (green/yellow/orange/red) for an FLH indicator","operationId":"update_indicator_monitoring_status","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"indicator_id","in":"path","required":true,"schema":{"type":"integer","description":"FLH Indicator ID","title":"Indicator Id"},"description":"FLH Indicator ID","examples":{"example":{"value":456}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHMonitoringStatusCreateRequest"},"examples":{"Green Status":{"summary":"Mark indicator as on track","value":{"date":"2025-10-15","monitoring_status":"green","monitoring_text":"Azure revenue growth at 42%, exceeding target"}}}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHMonitoringStatusHistory"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/flh/generate-monitoring-statuses":{"post":{"tags":["Company Forward Looking Hypotheses"],"summary":"Generate monitoring statuses","description":"Generate 24 months of monitoring statuses for all active indicators in an FLH (for testing/demo purposes). Each indicator starts GREEN, with 20% monthly chance of status change to create realistic streaks.","operationId":"generate_flh_monitoring_statuses","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_identifier","in":"query","required":false,"schema":{"type":"string","description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","title":"Company Identifier"},"description":"Company identifier value (e.g. an org_id, rdc_org_id, worldscope_coy_code, bg_coy_code, sedol, isin, cusip, ticker, ric, quotepermid, instrpermid)","examples":{"Example":{"value":"2588173"}}},{"name":"company_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(org_id|rdc_org_id|worldscope_coy_code|bg_coy_code|sedol|isin|cusip|ticker|ric|quotepermid|instrpermid)$","description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","title":"Company Identifier Type"},"description":"Type of company identifier (lowercase). Possible values:\n\n- `org_id` or `rdc_org_id`: Refinitiv Reference Data Convergence Organization ID (numeric)\n- `worldscope_coy_code`: Worldscope Company Code (numeric)\n- `bg_coy_code`: Internal BG company code (numeric)\n- `sedol`: SEDOL code (6 or 7 characters)\n- `isin`: ISIN code (12 characters)\n- `cusip`: CUSIP code (9 characters)\n- `ticker`: Stock ticker symbol\n- `ric`: Reuters Instrument Code (qualified ticker, e.g., MSFT.OQ)\n- `quotepermid`: Quote-level PermID (numeric)\n- `instrpermid`: Instrument-level PermID (numeric)","examples":{"example":{"value":"sedol"}}},{"name":"strategy_identifier","in":"query","required":false,"schema":{"type":"string","description":"Strategy identifier value (e.g. a strategy_code or icon_code)","title":"Strategy Identifier"},"description":"Strategy identifier value (e.g. a strategy_code or icon_code)","examples":{"example":{"value":"USEQUITY"}}},{"name":"strategy_identifier_type","in":"query","required":false,"schema":{"type":"string","pattern":"^(strategy_code|icon_code)$","description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","title":"Strategy Identifier Type"},"description":"Type of strategy identifier (lowercase). Possible values:\n\n- `strategy_code`: Internal strategy code (e.g., 'GLOBAL', 'USEQUITY')\n- `icon_code`: Portfolio icon code","examples":{"example":{"value":"strategy_code"}}},{"name":"status_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date for 24-month monitoring period (defaults to today, generates from 2 years prior)","title":"Status Date"},"description":"End date for 24-month monitoring period (defaults to today, generates from 2 years prior)","examples":{"Today":{},"Specific Date":{"value":"2025-10-15"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FLHResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies/events":{"get":{"tags":["Company Events"],"summary":"Get custom events","description":"Retrieve custom event documents for a specific company/strategy combination","operationId":"get_events","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"sedol","in":"query","required":true,"schema":{"type":"string","description":"Company SEDOL","title":"Sedol"},"description":"Company SEDOL","examples":{"Microsoft":{"value":"2588173"}}},{"name":"icon_code","in":"query","required":true,"schema":{"type":"string","description":"Portfolio code","title":"Icon Code"},"description":"Portfolio code","examples":{"USEQUITY":{"value":"USEQUITY"}}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventDocument"},"title":"Response Get Events"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Company Events"],"summary":"Create custom event","description":"Create a new custom event document","operationId":"create_event","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCreateRequest"},"examples":{"Custom Event":{"summary":"Create custom event","value":{"date":"2025-10-10","type":"event","title":"Product Launch","description":"New product announcement","icon_code":"GLOBAL","sedol":"2588173","is_public":true}}}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDocument"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/companies/events/{company_event_id}":{"put":{"tags":["Company Events"],"summary":"Update custom event","description":"Update an existing custom event document","operationId":"update_event","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_event_id","in":"path","required":true,"schema":{"type":"integer","description":"Event ID to update","title":"Company Event Id"},"description":"Event ID to update","examples":{"example":{"value":"123"}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventUpdateRequest"},"examples":{"Update Content":{"summary":"Update event content","value":{"date":"2025-11-15","type":"event","title":"Q4 2025 Earnings Call - Updated","description":"Updated quarterly earnings discussion","content":"Revised notes from the call...","author":"Senior Analyst","icon_code":"LTGG","sedol":"2588173","is_public":false}}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDocument"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Company Events"],"summary":"Delete custom event","description":"Delete a custom event document","operationId":"delete_event","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"company_event_id","in":"path","required":true,"schema":{"type":"integer","description":"Event ID to delete","title":"Company Event Id"},"description":"Event ID to delete"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/investors":{"get":{"tags":["Investors"],"summary":"List Investment Managers","description":"List all investment managers and their managed strategies grouped by group.","operationId":"get_investment_managers","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/InvestorDetail"},"type":"array","title":"Response Get Investment Managers"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/investors/watchlist":{"get":{"tags":["Investors"],"summary":"Get user's watchlist","description":"Retrieve all watchlist items for the authenticated user with company details. Supports multiple named watchlists - defaults to 'watchlist'.","operationId":"get_watchlist","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"watchlist_name","in":"query","required":false,"schema":{"type":"string","description":"Name of the watchlist to retrieve (defaults to 'watchlist')","default":"watchlist","title":"Watchlist Name"},"description":"Name of the watchlist to retrieve (defaults to 'watchlist')","examples":{"default":{"value":"watchlist"},"tech_stocks":{"value":"tech_stocks"},"my_favorites":{"value":"my_favorites"}}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WatchlistItem"},"title":"Response Get Watchlist"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Investors"],"summary":"Add to watchlist","description":"Add a company to the authenticated user's watchlist. Supports multiple named watchlists - defaults to 'watchlist'.","operationId":"add_to_watchlist","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistCreateRequest"},"examples":{"Netflix":{"summary":"Add Netflix to default watchlist","value":{"sedol":"2588173"}},"Netflix to custom list":{"summary":"Add Netflix to custom watchlist","value":{"sedol":"2588173","watchlist_name":"tech_stocks"}}}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/investors/watchlist/{sedol}":{"delete":{"tags":["Investors"],"summary":"Remove from watchlist","description":"Remove a company from the authenticated user's watchlist. Supports multiple named watchlists - defaults to 'watchlist'.","operationId":"remove_from_watchlist","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"sedol","in":"path","required":true,"schema":{"type":"string","description":"Company SEDOL code","title":"Sedol"},"description":"Company SEDOL code","examples":{"Microsoft":{"value":"2588173"}}},{"name":"watchlist_name","in":"query","required":false,"schema":{"type":"string","description":"Name of the watchlist to remove from (defaults to 'watchlist')","default":"watchlist","title":"Watchlist Name"},"description":"Name of the watchlist to remove from (defaults to 'watchlist')","examples":{"default":{"value":"watchlist"},"tech_stocks":{"value":"tech_stocks"}}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/investors/subscription-types":{"get":{"tags":["Investors"],"summary":"Get subscription types","description":"Retrieve all available subscription types","operationId":"get_subscription_types","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SubscriptionType"},"type":"array","title":"Response Get Subscription Types"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/investors/subscriptions":{"get":{"tags":["Investors"],"summary":"Get subscriptions","description":"Retrieve all subscriptions for the authenticated user","operationId":"get_subscriptions","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Subscription"},"type":"array","title":"Response Get Subscriptions"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]},"post":{"tags":["Investors"],"summary":"Create subscription","description":"Create a new subscription for the authenticated user","operationId":"create_subscription","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCreateRequest"},"examples":{"Strategy Nudges":{"summary":"Subscribe to nudges for a strategy","value":{"subscription_type_id":"nudges","email":"user@example.com","strategy_code":"LTGG"}},"Earnings Updates":{"summary":"Subscribe to earnings updates","value":{"subscription_type_id":"earnings_jacob","email":"user@example.com","strategy_code":"USEQUITY"}},"Watchlist Subscription":{"summary":"Subscribe to watchlist updates","value":{"subscription_type_id":"earnings_pillars","email":"user@example.com","watchlist_name":"watchlist"}}}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/investors/subscriptions/{subscription_id}":{"put":{"tags":["Investors"],"summary":"Update subscription","description":"Update an existing subscription","operationId":"update_subscription","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"subscription_id","in":"path","required":true,"schema":{"type":"integer","description":"Subscription ID","title":"Subscription Id"},"description":"Subscription ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionUpdateRequest"},"examples":{"Update Type":{"summary":"Change subscription type","value":{"subscription_type_id":"earnings_jacob","email":"newemail@example.com","strategy_code":"LTGG"}}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Investors"],"summary":"Delete subscription","description":"Delete a subscription","operationId":"delete_subscription","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"subscription_id","in":"path","required":true,"schema":{"type":"integer","description":"Subscription ID","title":"Subscription Id"},"description":"Subscription ID"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/investment-timeline/pinned-items":{"get":{"tags":["Investment Timeline"],"summary":"Get pinned items","description":"Retrieve all pinned items for the authenticated user","operationId":"get_pinned_items","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PinnedItem"},"type":"array","title":"Response Get Pinned Items"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]},"post":{"tags":["Investment Timeline"],"summary":"Add pinned item","description":"Pin a company or strategy for the authenticated user","operationId":"add_pinned_item","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinnedItemCreateRequest"},"examples":{"Pin Company":{"summary":"Pin a company","value":{"type":"company","sedol":"2588173","label":"Netflix"}},"Pin Strategy":{"summary":"Pin a strategy","value":{"type":"strategy","strategy_code":"LTGG","label":"Long Term Global Growth"}},"Pin Company with Portfolio Context":{"summary":"Pin company with portfolio context","value":{"type":"company","sedol":"2857817","icon_code":"USEQUITY","label":"a company"}}}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinnedItemCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/investment-timeline/pinned-items/{pin_id}":{"delete":{"tags":["Investment Timeline"],"summary":"Remove pinned item","description":"Unpin an item for the authenticated user","operationId":"remove_pinned_item","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"pin_id","in":"path","required":true,"schema":{"type":"integer","description":"Pin ID to remove","title":"Pin Id"},"description":"Pin ID to remove"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/load":{"post":{"tags":["Cache Management"],"summary":"Load Cache","description":"Warm the Redis cache with commonly accessed data.\n\nThis endpoint preloads the cache with:\n- All strategies and portfolios list\n- Holdings for all strategy representative portfolios (<100)\n- Price data for top 200 companies (100 most queried + 100 most recent)\n- Author resolution data (for all sources: Research Library, External Research, Investment Cases)\n- Macroeconomic country codes\n\nThis should be called via cron job each morning before market open to ensure\ncommonly accessed data is readily available.\n\n**Returns:**\n- Summary of cached items including counts and any errors encountered","operationId":"load_cache","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/cache/clear":{"delete":{"tags":["Cache Management"],"summary":"Clear Cache","description":"Clear all cache entries for the current environment.\n\nThis removes all keys with the environment-specific prefix (e.g., MV:DEV:*)\nfrom the Redis cache. Use with caution as this will force all subsequent\nrequests to hit the database until the cache is repopulated.\n\n**Returns:**\n- Count of deleted keys and confirmation message","operationId":"clear_cache","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/cache/stats":{"get":{"tags":["Cache Management"],"summary":"Get Cache Stats","description":"Get current cache statistics.\n\nReturns information about the Redis cache including:\n- Connection status\n- Environment prefix\n- Total number of keys\n- Total connections and commands processed\n\n**Returns:**\n- Cache statistics dictionary","operationId":"get_cache_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/macroeconomic/lookup/country_codes":{"get":{"tags":["Macroeconomic"],"summary":"Get All Country Codes","operationId":"get_all_country_codes_macroeconomic_lookup_country_codes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}},"parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"}]}},"/macroeconomic/lookup/prices/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro Prices Data By Country","description":"Metric Includes: \n\n1. Consumer Price Index/Inflation","operationId":"get_macro_prices_data_by_country_macroeconomic_lookup_prices__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/labour-market/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro Labour Market Data By Country","description":"Metric Includes: \n\n1. Workforce & Unemployment\n\n2. Employment & Hours\n\n3. Wages & Earnings","operationId":"get_macro_labour_market_data_by_country_macroeconomic_lookup_labour_market__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/national-account/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro National Account Data By Country","description":"Metric Includes: \n\n1. Foreign Transaction\n\n2. GDP by Expenditure\n\n3. GDP Deflators","operationId":"get_macro_national_account_data_by_country_macroeconomic_lookup_national_account__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/government/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro Government Data By Country","description":"Metric Includes: \n\n1. Government Accounts\n\n2. Government Debt & Borrowing","operationId":"get_macro_government_data_by_country_macroeconomic_lookup_government__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/money-finance/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro Money Finance Data By Country","description":"Metric Includes: \n\n1. Exchange Rates & Operations\n\n2. Interest Rates\n\n3. International Reserve\n\n4. Money Supply","operationId":"get_macro_money_finance_data_by_country_macroeconomic_lookup_money_finance__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/consumer/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro Consumer Data By Country","description":"Metric Includes: \n\n1. Consumer Finance\n\n2. Personal Expenditure\n\n3. Population\n\n4. Retail Sales","operationId":"get_macro_consumer_data_by_country_macroeconomic_lookup_consumer__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/macroeconomic/lookup/external-sector/{ctry_code}":{"get":{"tags":["Macroeconomic"],"summary":"Get Macro External Sector Data By Country","description":"Metric Includes: \n\n1. Balance of Payments\n\n2. Import & Export","operationId":"get_macro_external_sector_data_by_country_macroeconomic_lookup_external_sector__ctry_code__get","parameters":[{"$ref":"#/components/parameters/AcceptVersionHeader"},{"name":"ctry_code","in":"path","required":true,"schema":{"type":"string","title":"Ctry Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Uncaught server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Invalid bearer token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"Access denied, invalid role(s)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Invalid token claims","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"422":{"description":"Annoying default FastApi error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}}},"components":{"schemas":{"CompanyDocumentsSearchResponse":{"properties":{"message":{"$ref":"#/components/schemas/CompanyDocumentsSearchResponsePayload"}},"type":"object","required":["message"],"title":"CompanyDocumentsSearchResponse"},"CompanyDocumentsSearchResponsePayload":{"properties":{"additional_data_date_range":{"anyOf":[{"$ref":"#/components/schemas/app__models__company_documents__DateRangeModel"},{"type":"null"}]},"documents":{"items":{"$ref":"#/components/schemas/DocumentSummaryModel"},"type":"array","title":"Documents"}},"type":"object","required":["documents"],"title":"CompanyDocumentsSearchResponsePayload"},"CompanyInfoModel":{"properties":{"coy_code":{"type":"integer","title":"Coy Code"},"company_name":{"type":"string","title":"Company Name"}},"type":"object","required":["coy_code","company_name"],"title":"CompanyInfoModel"},"CompanyInstrument":{"properties":{"instrument_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Instrument Name"},"sedol_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sedol Code"},"isin_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Isin Code"},"cusip_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cusip Code"},"ticker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ticker"},"ric":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ric"},"exchange_ticker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exchange Ticker"},"exchange_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exchange Code"},"mic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mic"},"quotepermid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quotepermid"},"instrpermid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Instrpermid"}},"type":"object","required":["instrument_name","sedol_code","isin_code","cusip_code","ticker","ric","exchange_ticker","exchange_code","mic"],"title":"CompanyInstrument","description":"Model for a single company instrument (SEDOL, ISIN, CUSIP, etc.)"},"CompanyResolutionResult":{"properties":{"rdc_org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rdc Org Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"legal_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Legal Name"},"short_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Name"},"country_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country Code"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"worldscope_coy_codes":{"items":{"type":"integer"},"type":"array","title":"Worldscope Coy Codes"},"worldscope_ids":{"items":{"type":"string"},"type":"array","title":"Worldscope Ids"},"bg_coy_codes":{"items":{"type":"integer"},"type":"array","title":"Bg Coy Codes"},"rkd_coy_codes":{"items":{"type":"integer"},"type":"array","title":"Rkd Coy Codes"},"instruments":{"items":{"$ref":"#/components/schemas/CompanyInstrument"},"type":"array","title":"Instruments"}},"type":"object","required":["rdc_org_id","company_name","legal_name","short_name","country_code","description","worldscope_coy_codes","worldscope_ids","bg_coy_codes","rkd_coy_codes","instruments"],"title":"CompanyResolutionResult","description":"Result model for company identifier resolution with all instruments"},"DocumentCreateRequest":{"properties":{"category":{"type":"string","title":"Category","description":"Document category: internal | external"},"type":{"type":"string","title":"Type","description":"Document type: custom_events | ai_generated_analysis"},"subtype":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subtype","description":"Document subtype: event | filing_longform_summary | earnings_call_commentary"},"date":{"type":"string","title":"Date","description":"Document date (YYYY-MM-DD)"},"title":{"type":"string","minLength":1,"title":"Title","description":"Document title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Full document content/details"},"snippet":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snippet","description":"Short description/summary"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Document author (or model name for AI docs)"},"rdc_org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rdc Org Id","description":"Company RDC org ID (alternative to sedol)"},"sedol":{"anyOf":[{"type":"string","maxLength":7,"minLength":7},{"type":"null"}],"title":"Sedol","description":"Company SEDOL"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code","description":"Strategy code (icon_code)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Type-specific metadata. Events: {is_public: bool}. AI docs: {source_doc_id: str, processing_time_seconds: float, generation_process_version: str}"}},"type":"object","required":["category","type","date","title"],"title":"DocumentCreateRequest","description":"Generic request to create a document (company event or AI-generated analysis)"},"DocumentCreateResponse":{"properties":{"global_doc_id":{"type":"string","title":"Global Doc Id","description":"Global document ID (e.g., EV-123, AI-456)"},"message":{"type":"string","title":"Message","default":"Document created successfully"}},"type":"object","required":["global_doc_id"],"title":"DocumentCreateResponse","description":"Response when creating a document"},"DocumentDeleteResponse":{"properties":{"global_doc_id":{"type":"string","title":"Global Doc Id"},"message":{"type":"string","title":"Message","default":"Document deleted successfully"}},"type":"object","required":["global_doc_id"],"title":"DocumentDeleteResponse","description":"Response when deleting a document"},"DocumentSummaryModel":{"properties":{"global_doc_id":{"type":"string","title":"Global Doc Id"},"date":{"type":"string","title":"Date"},"title":{"type":"string","title":"Title"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"snippet":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snippet"},"rdc_org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rdc Org Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"strategy_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Name"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"subtype":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subtype"},"variant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant"},"filing_statement_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filing Statement Date"},"variant_global_doc_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant Global Doc Id"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},"type":"object","required":["global_doc_id","date","title"],"title":"DocumentSummaryModel"},"DocumentUpdateRequest":{"properties":{"date":{"type":"string","title":"Date","description":"Document date (YYYY-MM-DD)"},"title":{"type":"string","minLength":1,"title":"Title","description":"Document title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Full document content/details"},"snippet":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snippet","description":"Short description/summary"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Document author"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code","description":"Strategy code"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Type-specific metadata"}},"type":"object","required":["date","title"],"title":"DocumentUpdateRequest","description":"Generic request to update a document"},"DocumentUpdateResponse":{"properties":{"global_doc_id":{"type":"string","title":"Global Doc Id"},"message":{"type":"string","title":"Message","default":"Document updated successfully"}},"type":"object","required":["global_doc_id"],"title":"DocumentUpdateResponse","description":"Response when updating a document"},"ErrorMessage":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorMessage"},"EventCreateRequest":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"type":{"$ref":"#/components/schemas/EventType","default":"event"},"title":{"type":"string","minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"icon_code":{"type":"string","minLength":1,"title":"Icon Code"},"sedol":{"type":"string","maxLength":7,"minLength":7,"title":"Sedol"},"is_public":{"type":"boolean","title":"Is Public","default":false}},"type":"object","required":["date","title","icon_code","sedol"],"title":"EventCreateRequest","description":"Request to create an event"},"EventDocument":{"properties":{"company_event_id":{"type":"integer","title":"Company Event Id"},"date":{"type":"string","format":"date","title":"Date"},"type":{"$ref":"#/components/schemas/EventType","default":"event"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"icon_code":{"type":"string","title":"Icon Code"},"sedol":{"type":"string","title":"Sedol"},"is_public":{"type":"boolean","title":"Is Public","default":false}},"type":"object","required":["company_event_id","date","title","icon_code","sedol"],"title":"EventDocument","description":"Custom event document"},"EventType":{"type":"string","enum":["event"],"title":"EventType","description":"Event document type"},"EventUpdateRequest":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"type":{"$ref":"#/components/schemas/EventType","default":"event"},"title":{"type":"string","minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"icon_code":{"type":"string","minLength":1,"title":"Icon Code"},"sedol":{"type":"string","maxLength":7,"minLength":7,"title":"Sedol"},"is_public":{"type":"boolean","title":"Is Public","default":false}},"type":"object","required":["date","title","icon_code","sedol"],"title":"EventUpdateRequest","description":"Request to update an event"},"FLHCreateRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"FLH description text"},"valid_from":{"type":"string","format":"date","title":"Valid From"},"last_review_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Review Date"},"last_review_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Review Name"},"indicators":{"items":{"$ref":"#/components/schemas/FLHIndicatorCreateRequest"},"type":"array","title":"Indicators","default":[]}},"type":"object","required":["text"],"title":"FLHCreateRequest","description":"Request to create a new FLH"},"FLHIndicatorCreateRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text"},"include_in_overall_status":{"type":"boolean","title":"Include In Overall Status","default":true}},"type":"object","required":["text"],"title":"FLHIndicatorCreateRequest","description":"Request to create an FLH indicator"},"FLHIndicatorStatus":{"properties":{"flh_indicator_id":{"type":"integer","title":"Flh Indicator Id"},"versions":{"items":{"$ref":"#/components/schemas/FLHIndicatorVersionStatus"},"type":"array","title":"Versions"}},"type":"object","required":["flh_indicator_id","versions"],"title":"FLHIndicatorStatus","description":"FLH Indicator with version history and monitoring status"},"FLHIndicatorUpdateRequest":{"properties":{"flh_indicator_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Flh Indicator Id"},"version_update":{"anyOf":[{"$ref":"#/components/schemas/FLHIndicatorVersionUpdateRequest"},{"type":"null"}]}},"type":"object","title":"FLHIndicatorUpdateRequest","description":"Request to update an FLH indicator"},"FLHIndicatorVersionStatus":{"properties":{"flh_indicator_version_id":{"type":"integer","title":"Flh Indicator Version Id"},"valid_from":{"type":"string","format":"date","title":"Valid From"},"valid_to":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Valid To"},"text":{"type":"string","title":"Text"},"include_in_overall_status":{"type":"boolean","title":"Include In Overall Status"},"monitoring_history":{"items":{"$ref":"#/components/schemas/FLHMonitoringStatusHistory"},"type":"array","title":"Monitoring History"}},"type":"object","required":["flh_indicator_version_id","valid_from","text","include_in_overall_status","monitoring_history"],"title":"FLHIndicatorVersionStatus","description":"Indicator version with its monitoring history"},"FLHIndicatorVersionUpdateRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text"},"valid_from":{"type":"string","format":"date","title":"Valid From"},"include_in_overall_status":{"type":"boolean","title":"Include In Overall Status","default":true}},"type":"object","required":["text"],"title":"FLHIndicatorVersionUpdateRequest","description":"Request to update an FLH indicator version"},"FLHMonitoringStatusCreateRequest":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"monitoring_status":{"$ref":"#/components/schemas/MonitoringStatus"},"monitoring_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Monitoring Text"}},"type":"object","required":["date","monitoring_status"],"title":"FLHMonitoringStatusCreateRequest","description":"Request to add monitoring status history"},"FLHMonitoringStatusHistory":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"monitoring_status":{"$ref":"#/components/schemas/MonitoringStatus"},"monitoring_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Monitoring Text"}},"type":"object","required":["date","monitoring_status"],"title":"FLHMonitoringStatusHistory","description":"Monitoring status history entry for an indicator version"},"FLHOverallMonitoringStatus":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"monitoring_status":{"$ref":"#/components/schemas/MonitoringStatus"}},"type":"object","required":["date","monitoring_status"],"title":"FLHOverallMonitoringStatus","description":"Overall monitoring status derived from key indicators"},"FLHResponse":{"properties":{"strategy_code":{"type":"string","title":"Strategy Code"},"rdc_org_id":{"type":"integer","title":"Rdc Org Id"},"sedol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sedol"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"text_versions":{"items":{"$ref":"#/components/schemas/FLHTextVersion"},"type":"array","title":"Text Versions"},"indicator_status":{"items":{"$ref":"#/components/schemas/FLHIndicatorStatus"},"type":"array","title":"Indicator Status"},"overall_monitoring_status":{"items":{"$ref":"#/components/schemas/FLHOverallMonitoringStatus"},"type":"array","title":"Overall Monitoring Status"}},"type":"object","required":["strategy_code","rdc_org_id","text_versions","indicator_status","overall_monitoring_status"],"title":"FLHResponse","description":"Complete FLH response with text history, indicators, and overall monitoring status"},"FLHTextUpdateRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text"},"valid_from":{"type":"string","format":"date","title":"Valid From"}},"type":"object","required":["text"],"title":"FLHTextUpdateRequest","description":"Request to update FLH description text"},"FLHTextVersion":{"properties":{"flh_text_id":{"type":"integer","title":"Flh Text Id"},"valid_from":{"type":"string","format":"date","title":"Valid From"},"valid_to":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Valid To"},"text":{"type":"string","title":"Text"},"last_review_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Review Date"},"last_review_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Review Name"}},"type":"object","required":["flh_text_id","valid_from","text"],"title":"FLHTextVersion","description":"FLH text version with validity period"},"FLHUpdateRequest":{"properties":{"text_update":{"anyOf":[{"$ref":"#/components/schemas/FLHTextUpdateRequest"},{"type":"null"}]},"last_review_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Review Date"},"last_review_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Review Name"},"indicators":{"items":{"$ref":"#/components/schemas/FLHIndicatorUpdateRequest"},"type":"array","title":"Indicators","default":[]}},"type":"object","title":"FLHUpdateRequest","description":"Request to update an FLH"},"FiltersAppliedModel":{"properties":{"order_direction":{"type":"string","title":"Order Direction"},"transaction_type":{"type":"string","title":"Transaction Type"},"reason_filter":{"type":"string","title":"Reason Filter"}},"type":"object","required":["order_direction","transaction_type","reason_filter"],"title":"FiltersAppliedModel"},"GetCompanyMappingMode":{"properties":{"company_name":{"type":"string","title":"Company Name","description":"The name of the company to look up (e.g., 'Coca-Cola', 'Microsoft')"},"company_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Description","description":"Optional description of the company to help narrow down search results"},"context":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Context","description":"List of statement texts where this company was mentioned, providing context for more accurate company resolution"}},"type":"object","required":["company_name"],"title":"GetCompanyMappingMode","example":{"company_description":"Technology","company_name":"TSMC","context":["The company TSMC reported strong quarterly earnings in semiconductor manufacturing","TSMC's advanced chip fabrication facilities in Taiwan are expanding production capacity"]}},"GetParentChildMappingMode":{"properties":{"rdc_orgid":{"type":"integer","title":"Rdc Orgid"},"expand":{"type":"string","enum":["descendants","ancestors","both"],"title":"Expand","default":"ancestors"},"depth":{"type":"integer","title":"Depth","default":100}},"type":"object","required":["rdc_orgid"],"title":"GetParentChildMappingMode","example":{"depth":1,"expand":"both","rdc_orgid":2798395}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InvestmentGroup":{"properties":{"group_name":{"type":"string","title":"Group Name"},"strategies":{"items":{"type":"string"},"type":"array","title":"Strategies"}},"type":"object","required":["group_name","strategies"],"title":"InvestmentGroup"},"InvestorDetail":{"properties":{"investor_name":{"type":"string","title":"Investor Name"},"groups":{"items":{"$ref":"#/components/schemas/InvestmentGroup"},"type":"array","title":"Groups"}},"type":"object","required":["investor_name","groups"],"title":"InvestorDetail"},"MonitoringStatus":{"type":"string","enum":["green","yellow","orange","red","grey"],"title":"MonitoringStatus","description":"Traffic light status for FLH indicators"},"PinType":{"type":"string","enum":["company","strategy"],"title":"PinType","description":"Type of pinned item"},"PinnedItem":{"properties":{"pin_id":{"type":"integer","title":"Pin Id"},"type":{"$ref":"#/components/schemas/PinType"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"sedol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sedol"},"icon_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Code"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label"},"name":{"type":"string","title":"Name"}},"type":"object","required":["pin_id","type","name"],"title":"PinnedItem","description":"Pinned item (company or strategy)"},"PinnedItemCreateRequest":{"properties":{"type":{"$ref":"#/components/schemas/PinType"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"sedol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sedol"},"icon_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Code"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label"}},"type":"object","required":["type"],"title":"PinnedItemCreateRequest","description":"Request to pin an item"},"PinnedItemCreateResponse":{"properties":{"pin_id":{"type":"integer","title":"Pin Id"}},"type":"object","required":["pin_id"],"title":"PinnedItemCreateResponse","description":"Response when creating a pin"},"PortfolioModel":{"properties":{"portfolio_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Name"},"icon_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Code"}},"type":"object","required":["portfolio_name","icon_code"],"title":"PortfolioModel"},"StrategyResolutionResult":{"properties":{"strategy_code":{"type":"string","title":"Strategy Code"},"strategy_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Name"},"icon_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Code"},"strategy_asset_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Asset Type"},"benchmark_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Benchmark Name"}},"type":"object","required":["strategy_code","strategy_name","icon_code","strategy_asset_type","benchmark_name"],"title":"StrategyResolutionResult","description":"Result model for strategy identifier resolution"},"Subscription":{"properties":{"subscription_id":{"type":"integer","title":"Subscription Id"},"subscription_type_id":{"type":"string","title":"Subscription Type Id"},"subscription_type_name":{"type":"string","title":"Subscription Type Name"},"email":{"type":"string","title":"Email"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"watchlist_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Watchlist Id"},"created_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Created Date"}},"type":"object","required":["subscription_id","subscription_type_id","subscription_type_name","email"],"title":"Subscription","description":"User subscription"},"SubscriptionCreateRequest":{"properties":{"subscription_type_id":{"type":"string","title":"Subscription Type Id"},"email":{"type":"string","title":"Email"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"watchlist_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Watchlist Name"}},"type":"object","required":["subscription_type_id","email"],"title":"SubscriptionCreateRequest","description":"Request to create a subscription"},"SubscriptionType":{"properties":{"subscription_type_id":{"type":"string","title":"Subscription Type Id"},"subscription_type_name":{"type":"string","title":"Subscription Type Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["subscription_type_id","subscription_type_name"],"title":"SubscriptionType","description":"Subscription type definition"},"SubscriptionUpdateRequest":{"properties":{"subscription_type_id":{"type":"string","title":"Subscription Type Id"},"email":{"type":"string","title":"Email"},"strategy_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Code"},"watchlist_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Watchlist Name"}},"type":"object","required":["subscription_type_id","email"],"title":"SubscriptionUpdateRequest","description":"Request to update a subscription"},"TradeDetailsModel":{"properties":{"order_line_unique_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Line Unique Id"},"order_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order Type"},"order_direction":{"type":"string","title":"Order Direction"},"transaction_type":{"type":"string","title":"Transaction Type"},"reason_for_trade":{"type":"string","title":"Reason For Trade"},"quantity_allocated":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Quantity Allocated"},"trade_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Trade Price"},"gross_trade_value_asset":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Gross Trade Value Asset"},"exchange_rate_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Exchange Rate Usd"},"gross_trade_value_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Gross Trade Value Usd"},"perc_fund_before_order":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Perc Fund Before Order"},"order_perc_fund":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Order Perc Fund"},"perc_fund_after_order":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Perc Fund After Order"},"sedol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sedol"}},"type":"object","required":["order_line_unique_id","order_type","order_direction","transaction_type","reason_for_trade","quantity_allocated","trade_price","gross_trade_value_asset","exchange_rate_usd","gross_trade_value_usd","perc_fund_before_order","order_perc_fund","perc_fund_after_order","sedol"],"title":"TradeDetailsModel"},"TradeListMessageModel":{"properties":{"company":{"$ref":"#/components/schemas/CompanyInfoModel"},"date_range":{"$ref":"#/components/schemas/app__models__trade_model__DateRangeModel"},"filters_applied":{"$ref":"#/components/schemas/FiltersAppliedModel"},"trades":{"items":{"$ref":"#/components/schemas/TradeModel"},"type":"array","title":"Trades"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["company","date_range","filters_applied","trades","has_more"],"title":"TradeListMessageModel"},"TradeListResponseModel":{"properties":{"message":{"$ref":"#/components/schemas/TradeListMessageModel"}},"type":"object","required":["message"],"title":"TradeListResponseModel"},"TradeModel":{"properties":{"trade_date":{"type":"string","format":"date","title":"Trade Date"},"portfolio":{"$ref":"#/components/schemas/PortfolioModel"},"trade_details":{"$ref":"#/components/schemas/TradeDetailsModel"}},"type":"object","required":["trade_date","portfolio","trade_details"],"title":"TradeModel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WatchlistCreateRequest":{"properties":{"sedol":{"type":"string","maxLength":7,"minLength":7,"title":"Sedol","description":"Company SEDOL code"},"watchlist_name":{"type":"string","title":"Watchlist Name","description":"Name of the watchlist (defaults to 'watchlist')","default":"watchlist"}},"type":"object","required":["sedol"],"title":"WatchlistCreateRequest","description":"Request to add item to watchlist"},"WatchlistItem":{"properties":{"sedol":{"type":"string","title":"Sedol"},"company_name":{"type":"string","title":"Company Name"},"country":{"type":"string","title":"Country"},"sector":{"type":"string","title":"Sector"},"industry":{"type":"string","title":"Industry"}},"type":"object","required":["sedol","company_name","country","sector","industry"],"title":"WatchlistItem","description":"Watchlist item with company details from INSTRUMENTS table"},"app__models__company_documents__DateRangeModel":{"properties":{"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date","description":"YYYY-MM-DD"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date","description":"YYYY-MM-DD"}},"type":"object","title":"DateRangeModel"},"app__models__trade_model__DateRangeModel":{"properties":{"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"}},"type":"object","required":["start_date","end_date"],"title":"DateRangeModel"}},"securitySchemes":{"OAuth2AuthorizationCode":{"type":"oauth2","flows":{"authorizationCode":{"authorizationUrl":"https://login.microsoftonline.com/7f59c7fb-4f18-4987-ba40-7410bd850974/oauth2/v2.0/authorize","tokenUrl":"https://login.microsoftonline.com/7f59c7fb-4f18-4987-ba40-7410bd850974/oauth2/v2.0/token","scopes":{"api://3dcd1f78-009a-4426-babc-76ba63d84455/access_as_user":"Access Market View API as the authenticated user"}}},"description":"Azure AD OAuth2 authentication. Click 'Authorize' to sign in with your Microsoft account."},"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-api-key","description":"API key for authentication (legacy). Use your Market View API key."}},"parameters":{"AcceptVersionHeader":{"name":"accept-version","in":"header","required":true,"schema":{"type":"string","enum":["1","2"],"default":"1"},"description":"API version. Use '1' for this version.","example":"1"}}},"security":[{"OAuth2AuthorizationCode":["api://3dcd1f78-009a-4426-babc-76ba63d84455/access_as_user"]},{"BearerAuth":[]},{"ApiKeyAuth":[]}]}